<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Qlik Data Concierge</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="img/ConsumeConciergeDataMini_Icon.png" />
    <link rel="stylesheet" href="../../resources/autogenerated/qlikui.css">
    <link rel="stylesheet" href="../../resources/assets/client/client.css" media="all">
    <link rel="stylesheet" href="css/style.css">
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/bootstrap-select.min.css" rel="stylesheet" />
    <link href="css/bootstrap-switch.min.css" rel="stylesheet" />
    <link href="css/wizard.css" rel="stylesheet" />
    <script src="js/clipboard.min.js"></script>
	<script src="js/jquery.js"></script>
    <script src="/resources/assets/external/requirejs/require.js"></script>
    <script src="qdc-bex.js"></script>

</head>
<body>
    <!--<div id="CurrentSelections"></div>-->
    <div class="navbar navbar-default navbar-static-top">
        <div class="container-fluid" style="padding-left:12.5%; padding-right: 12.5%;">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-ex-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand"><img height="20" alt="Brand" src="img/logo_Qlik.png"></a>
                <img src="img/ConsumeConciergeDataMini_Icon.png" style="max-height:25px; margin-top:12px;" />

            </div>
            <div class="collapse navbar-collapse" id="navbar-ex-collapse">
                <ul class="nav navbar-nav navbar-right"></ul>
                <h4 class="navbar-left navbar-text">Data Concierge for SAP BEx Queries</h4>
                <div>
                    <img src="img/header2.png" style="position: absolute;" />
                    <a id="configbutton" href="#"><span class="btn-lg glyphicon glyphicon-cog" style="float:right; color: #FFF; font-size: 23px;" aria-hidden="true"></span></a>
                </div>
            </div>

        </div>
    </div>
    <section>
        <div class="row">
            <div class="board">
                <div class="board-inner">
                    <ul class="nav nav-tabs" id="myTab">
                        <div class="liner">
                            <div class="progress" style="height:10px;">
                                <div class="progress-bar progress-bar-striped active" role="progressbar"
                                     aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:0%; background-color:#60A628;">
                                </div>
                            </div>
                        </div>
                        <li class="active">
                            <a href="#Query" id="selquery" title="">
                                <span class="round-tabs one">
                                    <i class="glyphicon glyphicon-ok-circle"></i>
                                </span>
                            </a>
                        </li>

                        <li>
                            <a href="#Vars" id="createvariables" title="">
                                <span class="round-tabs two">
                                    <i class="glyphicon glyphicon-filter"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#DataCon" id="createscript" title="">
                                <span class="round-tabs three">
                                    <i class="glyphicon glyphicon-globe"></i>
                                </span>
                            </a>
                        </li>

                        <li>
                            <a href="#Reload" id="reloaddata" title="">
                                <span class="round-tabs four">
                                    <i class="glyphicon glyphicon-cloud-download"></i>
                                </span>
                            </a>
                        </li>

                    </ul>
                </div>

                <div class="tab-content">
                    <div class="tab-pane fade in active" id="Query">
                        <div class="container-fluid">
                            <div class="row" style="padding:0px 0px 0px 0px;">

                                <div class="offer offer-info">
                                    <div class="shape">
                                        <div class="shape-text">
                                            <span class="glyphicon glyphicon glyphicon-info-sign"></span>
                                        </div>
                                    </div>
                                    <div id="explanation1">
                                        <div class="offer-content">
                                            <h3>Please select the BEx Query you like to load into Cache.</h3>
                                            <p>To do so make a selection for <b>all</b> listboxes (SAP System, Query DESC, BEx Query and Infoprovider) displayed in section <b>①</b>.</p>
                                            <ul style="padding-left: 40px;">
                                                <li>green values: These are the selected values</li>
                                                <li>white values: These are values which match to your selection</li>
                                                <li>grey values: These values do not match to your selection</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div id="explanation2" style="display: none;">
                                        <div class="offer-content">
                                            <h3>You have successfully selected a BEx Query. Now select your Dimensions and Measures.</h3>
                                            <p>
                                                Please select at least one value in the dimension field and one value in the measure field. You can select multiple dimensions and measure if applicable to your analysis needs.<br />
                                                In case you like to select all possible values you can hit the <b>select all</b> button to do so.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                            </div>


                            <div id="todo1">
                                <div class="row" style="border-bottom: solid 1px #ddd; padding:50px 0px 50px 0px;">
                                    <div class="col-xs-1">
                                        <div class="numberCircle">①</div>
                                    </div>
                                    <div class="col-xs-11">
                                        <h4 class="timeline-title">
                                            Select Query Details:
                                            <ul class="company-social">
                                                <li class="dropdown">
                                                    <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">select Bookmarks (optional)</a>
                                                    <ul id="qbmlist" class="dropdown-menu scrollable-menu dropdown-menu-right"></ul>
                                                </li>
                                            </ul>
                                        </h4>
                                        <section id="selquery">
                                            <div class="col-sm-3">
                                                <div class="qvobject filter" id="QV06"></div>
                                            </div>
                                            <div class="col-sm-3">
                                                <div class="qvobject filter" id="QV05"></div>
                                            </div>
                                            <div class="col-sm-3">
                                                <div class="qvobject filter" id="QV02"></div>
                                            </div>
                                            <div class="col-sm-3">
                                                <div class="qvobject filter" id="QV01"></div>
                                            </div>
                                    </div>
                                </div>

                                <div class="row" style="margin:30px 30px 30px 30px;">
                                    <button id="QuerySelection1" type="button" class="btn btn-default" style="float:right;"><span style="margin-right:10px;" class="glyphicon glyphicon-ok"></span>Apply Selection</button>
                                </div>
                            </div>

                            <div id="todo2" style="display: none;">
                                <div class="row" style="border-bottom: solid 1px #ddd; padding:50px 0px 50px 0px;">
                                    <div class="col-xs-1">
                                        <div class="numberCircle">②</div>
                                    </div>
                                    <div class="col-xs-11">
                                        <h4 class="timeline-title">Select Fields for: </h4>
                                        <selction id="selvalues">
                                            <div class="col-md-6">
                                                <p id="dimensioncount">Dimensions: <a href="#" id="selallbuttondim">select all</a></p>
                                                <div class="qvobject table" id="QV03"></div>
                                            </div>
                                            <div class="col-md-6">
                                                <p id="measurecount">Measures: <a href="#" id="selallbuttonmea">select all</a></p>
                                                <div class="qvobject table" id="QV04"></div>
                                            </div>
                                        </selction>
                                    </div>
                                </div>

                                <div class="row" style="margin:30px 30px 30px 30px;">
                                    <button id="QueryBack" type="button" class="btn btn-default" style="float:left;"><span style="margin-right:10px;" class="glyphicon glyphicon-chevron-left"></span>Back</button>
                                    <button id="QuerySelection2" type="button" class="btn btn-default" style="float:right;"><span style="margin-right:10px;" class="glyphicon glyphicon-ok"></span>Apply Selection</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="Vars">
                        <div class="container-fluid">
                            <div class="row" style="padding:0px 0px 0px 0px;">

                                <div class="offer offer-info">
                                    <div class="shape">
                                        <div class="shape-text">
                                            <span class="glyphicon glyphicon glyphicon-info-sign"></span>
                                        </div>
                                    </div>
                                    <div id="explanation3">
                                        <div class="offer-content">
                                            <h3>Please select necessary variable parameters.</h3>
                                            <p>In the center of the screen you will find possible and necessary variables related to the selected BEx Query. Please keep in mind that mandatory variables need to be checked and selected to retrieve data from the query.</p>
                                            <ul style="padding-left: 40px;">
                                                <ol>1.)	Check the box in column <b>I/O</b> to activate a variable.</ol>
                                                <ol>2.)	If you like to select multiple values check the box in the <b>Multi-Select</b> column.</ol>
                                                <ol>3.)	Define <b>Sign</b> and <b>Option</b> column that suits to the query.</ol>
                                                <ol>4.)	Select (a) value(s) in <b>Low</b> and if necessary in <b>High</b> column.</ol>
                                                <ol>5.)	To commit the configuration please click on the <b>Apply Variable Selection</b> button.</ol>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            </div>


                            <div id="Var1">
                                <div class="row" style="border-bottom: solid 1px #ddd; padding:0px;">
                                    <div id="Variables">
                                        <section id="SetVariables"></section>
                                    </div>
                                </div>
                                <div class="row" style="margin:30px 30px 30px 30px;">
                                    <button id="VarBack" type="button" class="btn btn-default" style="float:left;"><span style="margin-right:10px;" class="glyphicon glyphicon-chevron-left"></span>Back</button>
                                    <p style="float: left; padding-left: 20px; line-height: 32px; vertical-align: middle;">* mandatory variables are shown in bold font-type.</p>
                                    <button id="applyvariable" class="btn btn-default" style="float:right;" type="submit"><span style="margin-right:10px;" class="glyphicon glyphicon-ok"></span>Apply Variable Selection</button>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="tab-pane fade" id="DataCon">

                        <div class="container-fluid">
                            <div class="row" style="padding:0px 0px 0px 0px;">

                                <div class="offer offer-info">
                                    <div class="shape">
                                        <div class="shape-text">
                                            <span class="glyphicon glyphicon glyphicon-info-sign"></span>
                                        </div>
                                    </div>
                                    <div id="explanation4">
                                        <div class="offer-content">
                                            <h3>Please select a Data Connection</h3>
                                            <p>To do so make a selection for a <b>Data Connection</b> in the selection box underneath the description. The script will be created automatically after your selection.</p>
                                            <ul style="padding-left: 40px;">
                                                <li>If you like to have a closer look on the script feel free to click on the <i class="glyphicon glyphicon-plus-sign"></i> button to expand the scrip section.</li>
                                                <li>With the <b>copy</b> button you can save the script to your clipboard.</li>
                                                <li>Once you have finished your selection you can go ahead by clicking on the <b>Apply Data Connection</b> button.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div id="DataCon1">
                                <div class="row" style="border-bottom: solid 1px #ddd; padding:50px 30px 50px 30px; text-align:center;">
                                    <h4 class="timeline-title">
                                        <span class="glyphicon glyphicon-globe"></span> Data Connection:
                                        <i id="minscript" class="glyphicon glyphicon-minus-sign minimizesign" style="display:none;"></i><i id="maxscript" class="glyphicon glyphicon-plus-sign minimizesign" style="display:none;"></i>
                                        <div class="btn-group datacon">
                                            <select id="dataconnection" class="selectpickerdatacon" data-live-search="true" data-title="nothing selected" data-size="false"></select>
                                        </div>
                                    </h4>
                                    <div id="Loadscript2" style="display:none;">
                                        <section id="script">
                                            <pre style="text-align:left; overflow: hidden;"><div id="copytoclipboard" data-clipboard-target="#code" class="zero-clipboard"><span class="btn-clipboard with-example">Copy</span></div><code id="code"></code></pre>
                                        </section>
                                    </div>
                                </div>
                            </div>
                            <div class="row" style="margin:30px 30px 30px 30px;">
                                <button id="DataConBack" type="button" class="btn btn-default" style="float:left;"><span style="margin-right:10px;" class="glyphicon glyphicon-chevron-left"></span>Back</button>
                                <button id="PickDataCon" type="button" class="btn btn-default disabled" disabled="true" style="float:right;"><span style="margin-right:10px;" class="glyphicon glyphicon-ok"></span>Apply Data Connection</button>
                            </div>
                        </div>

                    </div>

                    <div class="tab-pane fade" id="Reload">
                        <div class="container-fluid">
                            <div class="row" style="padding:0px 0px 0px 0px;">

                                <div class="offer offer-info">
                                    <div class="shape">
                                        <div class="shape-text">
                                            <span class="glyphicon glyphicon glyphicon-info-sign"></span>
                                        </div>
                                    </div>
                                    <div id="explanation4">
                                        <div class="offer-content">
                                            <h3>You are good to go if you like.</h3>
                                            <p>Underneath the description you will find a short overview about your selected Query details. In order to extract the data, you need to analyze, please have a closer look on the details.</p>
                                            <ul style="padding-left: 40px;">
                                                <li>If there is something missing I would recommend to re-run the dialog. In case you like to do so please hit the <b>Re-run Dialog</b> Button.</li>
                                                <li>In case you like to add Master Data please click on the <b>Add Master Data</b> Button.</li>
                                                <li>Once everything is set to your satisfaction,the Data Concierge will create the application for you in your personal workspace by clicking the <b>Create Application</b> Button.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div id="Summary">
                                <div class="row" style="border-bottom: solid 1px #ddd; padding:50px 15px 50px 15px">
                                    <div class="container-fluid">
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <table style="line-height: 20px;">
                                                    <tr>
                                                        <th>Category</th>
                                                        <th>Selection</th>
                                                    </tr>
                                                    <tr style="border-bottom: 1px solid #DDDDDD;">
                                                        <td style="display: initial;"><b>SAP System:</b></td>
                                                        <td id="sapsyteminfo"></td>
                                                    </tr>
                                                    <tr style="border-bottom: 1px solid #DDDDDD;">
                                                        <td style="display: initial;"><b>Query Name:</b></td>
                                                        <td id="queryinfo"></td>
                                                    </tr>
                                                    <tr style="border-bottom: 1px solid #DDDDDD;">
                                                        <td style="display: initial;"><b>Dimensions:</b></td>
                                                        <td id="diminfo"></td>
                                                    </tr>
                                                    <tr style="border-bottom: 1px solid #DDDDDD;">
                                                        <td style="display: initial;"><b>Measures:</b></td>
                                                        <td id="mesinfo"></td>
                                                    </tr>
                                                    <tr id="varrow" style="border-bottom: 1px solid #DDDDDD;">
                                                        <td style="display: initial;"><b>Variables:</b></td>
                                                        <td id="varinfo"></td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <div class="col-xs-6">
                                                <table style="line-height: 20px;">
                                                    <tr>
                                                        <th>Summary</th>
                                                    </tr>
                                                </table>
                                                <div id="QVINFO" style="padding-top: 20px; height:400px; width:100%;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" style="margin:30px 30px 30px 30px;">
                                <button id="rerun" type="button" class="btn btn-default" style="float:left;"><span style="margin-right:10px;" class="glyphicon glyphicon-repeat"></span>Re-run Dialog</button>
                                <button id="createapp" type="button" class="btn btn-default" style="float:right;"><span style="margin-right:10px;" class="glyphicon glyphicon-ok"></span>Create Application</button>
                                <button id="masterdata" type="button" class="btn btn-default" style="float:right; margin-right: 15px;"><span style="margin-right:10px;" class="glyphicon glyphicon-plus"></span>Add Master Data</button>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </section>


    <!-- Modals -->
    <!-- Welcome -->
    <div id="startModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
        <div id="welcome" class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Welcome to Qlik Data Concierge</h4>
                    </div>
                    <div class="modal-body" style="padding: 0px;">
                        <img src="img/Welcome.png" class="img-responsive">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default nothanks" data-dismiss="modal" style="float:left;">Don't show this again!</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /Welcome -->
    <!-- CreateBookmark -->
    <div class="modal " id="createBmModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title">Create bookmark</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <label for="bmtitle" class="control-label">Title:</label>
                        <input type="text" class="form-control" id="bmtitle">
                        <label for="bmdesc" class="control-label">Description:</label>
                        <input type="text" class="form-control" id="bmdesc">
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" data-qcmd="createBm" class="qcmd btn btn-primary">Create</button>
                </div>
            </div>
        </div>
    </div>
    <!-- /CreateBookmark -->
    <!-- ERROR Create App Modal -->
    <div class="modal " id="ErrorCreateApp" style="top: 50%;transform: translateY(-50%);">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title"><span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span> Please correct your selection!</h4>
                </div>
                <div class="modal-body">
                    <p>The following parameters are necessay to build the application:</p>
                    <br />
                    <div class="col-sm-12">
                        <ul>
                            <li id="CheckInfo" style="display:none">Please select an <b>Infoprovider</b>.</li>
                            <li id="CheckQuery" style="display:none">Please select a <b>BEx Query</b>.</li>
                            <li id="CheckDim" style="display:none">Please select at least 1 <b>Dimension</b>.</li>
                            <li id="CheckMes" style="display:none">Please select at least 1 <b>Measure</b>.</li>
                            <li id="CheckConn" style="display:none">Please select a <b>Data Connection</b>.</li>
                            <li id="CheckMod" style="display:none">Please define an App you like to modify.</li>
                        </ul>
                        <br />
                    </div>

                    <p>Please select the necessary options to continue the dialog!</p>
                </div>
                <div class="modal-footer">
                    <button id="ErrorCloseMod" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ERROR Create Modal -->
    <!-- ERROR Variable Modal -->
    <div class="modal " id="ErrorVariable" style="top: 50%;transform: translateY(-50%);">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title"><span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span>  Additional Query-deffinition required</h4>
                </div>
                <div class="modal-body">
                    <p>Please set all "mandatory" variables. Otherwise the Query will fail.</p>
                    <p>The necessary variables are shown in bold font-type.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- /ERROR Variable Modal -->
    <!-- Config Modal -->
    <div class="modal " id="config">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>  Advanced Data Concierge Configuration</h4>
                </div>
                <div class="modal-body">
                    <div class="row" style="border-radius: 6px; border: 1px solid #E5E5E5; padding:10px; margin:5px;">
                        <p><b><u>Don't use UNIT &amp; CURRENCY notation:</u></b></p>
                        <div class="col-xs-12" style="padding: 0px;">
                            <p>Whe this options is enabled no CURRENCY* and UNIT* fields will be created trough the Data-Indexing-Process. </p>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <input type="checkbox" name="NoCuUn" data-size="mini" data-on-color="success">
                            </div>
                        </div>
                    </div>
                    <div class="row" style="border-radius: 6px; border: 1px solid #E5E5E5; padding:10px; margin:5px;">
                        <p><b><u>Create Master- Dimension &amp; Measures:</u></b></p>
                        <div class="col-xs-12" style="padding: 0px;">
                            <p>This option will enable the automated creation of "Master- Dimensions and Measures". Master-Elements are helpfull to build predefined and governed Dimensions and Measures. These Elements will help you to create visualisations in Qlik Sense.</p>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <input type="checkbox" name="DimuMes" data-size="mini" data-on-color="success">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="closeconfig" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- /Config Modal -->
    <!-- /Modals -->
    <script>
        new Clipboard('#copytoclipboard');
    </script>
</body>
</html>